<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/shadycss/apply-shim.html">

<link rel="import" href="../styles/base.html">
<link rel="import" href="../polymer-custom.html">
<link rel="import" href="main-view.html">
<link rel="import" href="search-songs.html">
<link rel="import" href="most-played.html">

<dom-module id="init-view">

    <template>
      <style include="base">
        
        .tabItem{
          text-decoration: none;
          display: inline-block;
        }

        .tabItem > a{
          text-decoration: none;
          background-color: #8c48aa;
        }

        nav{
          width: 100%;
          height: 50px;
          padding: 1px 0 0 0px;
        }
        .tabItem > a {    
          text-decoration: none;
          background-color: orange;
          padding: 10px;
          color: darkslategray;
          border-top-right-radius: 15px;
        }

      </style>

      <app-location route="{{route}}"></app-location>
      <app-route route="{{tail}}" pattern="/:subview" data="{{subrouteData}}" tail="{{tailRoute}}"></app-route>

        <nav>
          <ul>
            <li class="tabItem"><a href="{{tail.prefix}}/main-view">[[localize('initMainViewTitle')]]</a></li>
            <li class="tabItem"><a href="{{tail.prefix}}/search-song">[[localize('initSearchTitle')]]</a></li>
            <li class="tabItem"><a href="{{tail.prefix}}/most-played">[[localize('initMostViewTitle')]]</a></li>
          </ul>
        </nav>

        <iron-pages selected="{{subrouteData.subview}}" attr-for-selected="subview">
          <main-view subview="main-view"></main-view>
          <search-song subview="search-song"></search-song>
          <most-played subview="most-played"></most-played>
        </iron-pages> 
        
    </template>

    <script>

      (function initViewDefinition(initView) {
          'use strict';

          class InitView extends PolymerCustom(Polymer.Element) {

              static get is(){ return "init-view";}

              static get properties(){
                 return{
                  tail:{
                    type:Object,
                    notify:true
                  }
                }
              }

          }

          customElements.define(InitView.is, InitView);

      })(window.initView);

    </script>
</dom-module>